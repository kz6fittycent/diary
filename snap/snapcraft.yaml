name: diary
base: core22
version: '1.0.0'
summary: A desktop application to manage diaries via Nextcloud
description: |
  Diary is a Linux-centric desktop application written in Go
  that integrates with the Nextcloud diary app. It allows users
  to manage diary entries securely and efficiently, with support
  for offline mode and HTTPS security.

grade: stable
confinement: strict

parts:
  diary:
    plugin: go
    go-importpath: github.com/kz6fittycent/diary
    source: https://github.com/kz6fittycent/diary
    source-type: git
    build-packages:
      - libgtk-3-dev
    stage-packages:
      - libglib2.0-0
      - libgdk-pixbuf2.0-0
      - libcairo2
      - libpango1.0-0
      - libatk1.0-0
      - libgtk-3-0
      - libnss3

apps:
  diary:
    command: diary
    extensions: [gnome-3-38] 
    plugs:
      - network  
      - network-bind  
      - home        

environment:
  GODEBUG: "netdns=go"
  FYNE_FONT: "/usr/share/fonts/truetype"

layout:
  /usr/share/fonts:
    bind: $SNAP/usr/share/fonts
